---
title: Building block view
---

This document describes the core parts of the software, what each of the
"building blocks" are for Seedcase and how they connect and interact
with one another. This is the "blueprint" for the design of Seedcase, so
it is more detailed than the other design documents but not so detailed
as to be describing actual code. To clarify how much detail each part
will be described in, there are two established terms we use:

-   Whitebox: {{< var design.whitebox >}}
-   Blackbox: {{< var design.blackbox >}}

The [first section](#level1) covers the overall view of the main parts
inside Seedcase. The [second section](#level2) goes deeper and describes
the contents within each main part, but only as blackboxes.

## Whitebox overall system, Level 1 {#level1}

This section is a high level overview of the internals of Seedcase, and
is visually represented with the ["C4
Container"](https://c4model.com/#ContainerDiagram) diagram below. Each
part within the diagram is a blackbox representation of the core
internal parts of Seedcase.

![C4 Container diagram showing the major internal parts of
Seedcase.](images/container.png)

| Building Block                 | Description                                                                                   |
|-------------------------|------------------------------------------------|
| Web Interface                  | User Interface as a web portal for interacting with the Seedcase-managed Data Resource.       |
| User Authentication            | Managing and controlling who gets access to what sections of the Data Resource.               |
| User and Data Management Layer | The programmatic layer connecting the web interface to the back end environment.              |
| Back End Environment           | This enclosed environment contains the inputted data, admin details, changelog, and raw data. |
| External Secure Server         | The external server where requested data is sent to (if needed).                              |

: Core internal parts of Seedcase (as blackboxes).

This list describes the individual blackbox parts in more detail:

-   Web Interface: This is the interface that users will interact with,
    displayed as HTML pages. Different sections of the Web Interface are
    available to different users depending on their permission level
    (for instance, admin users will see more pages related to managing
    data projects).
-   User Authentication: This is the part that handles authenticating
    users who log into the Web Portal of the Data Resource instance
    managed by Seedcase. Depending on the user's assigned permissions,
    they will see different pages within the Web Interface.
-   User and Data Management Layer: This is the programmatic interface
    that connects the Web Portal to the Back End Environment. While all
    actions will be achieved through the Web Portal, advanced users will
    be able to directly connect to this layer (for instance, through the
    terminal, Python, or R).
-   Back End Environment: This enclosed environment will contain the
    database and file storage for the Data Resource. Raw data will be
    stored here, as well as administrative data files such as a listing
    of the data projects.
-   External Secure Server: This external system is where requested data
    will be sent to depending on needs of the user.

## Building block Level 2

### Web Portal (whitebox)

<!-- TODO: Need a components diagram for this. -->

![front end](images/front_end.png)

| Building Block        | Description                                                                                                                                                                                                                                          |
|----------------------|--------------------------------------------------|
| Landing Page          | The initial page that a user sees when they visit the seedcase. It provides an overview of the seedcase project and includes links to other important pages.                                                                                         |
| User Login Pages      | It is used to authenticate users before they can access protected areas. It includes fields for users to enter their login credentials, such as a username and password.                                                                             |
| Project List Pages    | It displays a list of all data projects that a user has access to. Each project is typically displayed as a separate item in a list and includes basic information about the project such as its name and status.                                    |
| Data List Pages       | It displays a list of all data sets of one project that a user has access to. Each data set is typically displayed as a separate item in a list and includes basic information about the data such as its description, source, and date of creation. |
| Data Detail Pages     | It provides detailed information about a specific data set. This includes any relevant metadata.                                                                                                                                                     |
| Upload Data Pages     | It allows authorized users to upload new data sets to the seedcase. It includes fields for users to enter information about the data set, as well as a file upload field to select the data file.                                                    |
| Download Data Pages   | It allows authorized users to download data sets from the seedcase. It includes options to filter the data set based on various criteria, such as date range or specific fields.                                                                     |
| Data QC Process Pages | It provides information about the quality control process used to ensure that data sets are accurate and reliable. It provides a list of the quality control functions. It also provides the result to determine if a data set passes or fails.      |

: Blackboxes within the *Web Portal* part.

#### Admin management

| Building Block                 | Description                                                                                                                                                                                                                                                                            |
|----------------------|--------------------------------------------------|
| Project Management             | These admin pages allow administrators to manage projects in the system. This includes creating new projects, updating existing projects, and assigning researchers to projects.                                                                                                       |
| Project Dataset Management     | These admin pages allow administrators to manage the datasets associated with a specific project. This includes adding new datasets to the project, updating existing datasets, and managing the access permissions for each dataset.                                                  |
| Data QC Process Management     | These admin pages allow administrators to manage the quality control process for data sets in the system. This includes setting thresholds for pass/fail criteria and managing the process for reviewing and approving data sets that have been cleaned and prepared.                  |
| User Role Management           | These admin pages allow administrators to manage the access permissions for users in the system. This includes defining roles and permissions for different types of users, such as administrators, researchers, and data analysts, and managing the access permissions for each user. |
| API Security Management        | These admin pages allow administrators to manage the security measures that are in place to protect the API for the system.                                                                                                                                                            |
| External Connection Management | These admin pages allow administrators to manage the connections between the system and external data sources or applications. This includes setting up new connections, updating existing connections, and managing the access permissions for each connection.                       |

: Blackboxes related to *admin management* within the *User and Data
Management Layer* part.

### User Authentication (whitebox)

<!-- TODO: Need a components diagram for this. -->

![user id](images/user-id.png)

| Building Block           | Description                                   |
|--------------------------|-----------------------------------------------|
| Local Authentication     | Use seedcase local user authentication server |
| Connect Remote ID Server | Connect to remote user authentication server  |

: Blackboxes within the *User Authentication* part.

### User and Data Management Layer (whitebox)

<!-- TODO: Need a components diagram for this. -->

![user data management](images/user-data-management.png)

#### Data entry

| Building Block         | Description                                                                                                     |
|-----------------------|-------------------------------------------------|
| API Security           | Implementing measures to protect an API from unauthorized access, data theft, and other security threats.       |
| Dataset CRUD API       | API endpoint allows creating, reading, updating, and deleting the dataset in the system.                        |
| Data file CRUD API     | API endpoint allows creating, reading, updating, and deleting the data file in the system.                      |
| List Projects Metadata | API endpoint allows listing all existing projects, it could use parameters to display related project metadata. |
| List Project Log       | API endpoint allows displaying a log of all activity related to a specific project in the system.               |
| Researchers CRUD API   | API endpoint allows creating, reading, updating, and deleting a researcher user in the system.                  |

: Blackboxes related to *data entry* within the *User and Data
Management Layer* part.

### Back End Environment (whitebox)

![back end](images/back_end.png)

| Building Block         | Description                                                                                                     |
|-----------------------|-------------------------------------------------|
| Raw File Storage    | File storage for files with data uploaded into the Seedcase Ressource, these will typically be either csv or json files.                    |
| Large File Storage  | Area reserved for Seedcase Products working with files (eg. images) that are too big to store in the database.                              |
| Relational Database | PostgreSQL relational database containing Ressource data, Metadata, information on Data Projects, Common data models, and User information. |

: Blackboxes within the *Back End Environment* part.

```plantuml
@startuml

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml

title Component diagram for The Seedcase product - Backend: File Storage

Container(api, "API Layer","")
Container(rdb,"Database","")

Container_Boundary(fs, "File storage") {
  Component(Raw_file, "Raw file storage", "copies of uploaded data files")
  Component(Large_file, "Large file storage", "area reserved for large files (eg. images)")
}

Rel(rdb, Raw_file, "reads data from")
Rel(api, Large_file, "")
Rel(api, Raw_file, "writes to / reads from")
Rel(rdb, Large_file, "refers to")

@enduml
```

| Building Block         | Description                                                                                                     |
|-----------------------|-------------------------------------------------|
| Raw File Storage    | File storage for files with data uploaded into the Seedcase Ressource, these will typically be either csv or json files.  The API layer will use this area for storing files after they have been uploaded into the database. |
| Large File Storage  | Area reserved for Seedcase Products working with files (eg. images) that are too big to store in the database.  The database will reference the file path for these files.  |




``` plantuml

@startuml

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml

title Component diagram for The Seedcase product - BAckend: Relational Database

Container(uia,"User ID Authentication","")
Container(api, "API Layer","")

Container_Boundary(db, "Relational database") {
  Component(User_info, "User information", "contains data on users of seedcase")
  Component(Ressource_data, "Ressource data", "research data generated by the ressource owners and stored in seedcase")
  Component(About_data, "Data About", "information about data projects, timelines, etc")
  Component(Data_dictionary, "Ressource data dictionary", "the data dictionary unique to the data ressource")
  Component(CDM_data, "Common Data Models", "pre-loaded data dictionaries from common data models")
}

Rel(uia, User_info, "fetches permissions from")
Rel(api, Ressource_data, "reads data from")
Rel(api, About_data, "reads data from")
Rel(api, Data_dictionary, "reads data from")
Rel(Data_dictionary, CDM_data, "may copy data from")

@enduml
```

| Building Block         | Description                                                                                                     |
|-----------------------|-------------------------------------------------|
| User information      | Data needed to authenticate users and control which parts of the data contained in the Ressource the logged in users is allowed to see.  It will only be available for modifications for the Administrator.  |
| Ressource data        | The actually research data collected, uploaded and store by the team using the Seedcase Product.  |
| Data About            | If researchers would like to use the data in the Ressource they will need to apply for them.  This section will contain information about these applications, including things like project description and list of variables. |
| Resssource data dictionary | 